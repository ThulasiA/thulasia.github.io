<footer class="site-footer h-card">
  <data class="u-url" href="{{ "/" | relative_url }}"></data>

  <div class="wrapper">

    <h2 class="footer-heading">{{ site.title | escape }}</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">
            {%- if site.author -%}
              {{ site.author | escape }}
            {%- else -%}
              {{ site.title | escape }}
            {%- endif -%}
            </li>
            {%- if site.email -%}
            <li><a class="u-email" href="mailto:{{ site.email }}">{{ site.email }}</a></li>
            {%- endif -%}
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        {%- include social.html -%}
      </div>

      <div class="footer-col footer-col-3">
        <p>{{- site.description | escape -}}</p>
      </div>
    </div>

  </div>
</footer>
<script>
  const userPrefers = getComputedStyle(document.documentElement).getPropertyValue('content');
  //Set matching button text  and store user preferred mode in localstorage 
  if (theme === "dark") {
     document.getElementById("toggle-theme").classList.remove("moon");
     document.getElementById("toggle-theme").innerHTML = "☀️";
  } else if (theme === "light") {
    document.getElementById("toggle-theme").classList.add("moon");
    document.getElementById("toggle-theme").innerHTML = "";
  } else if  (userPrefers === "dark") {
    document.documentElement.setAttribute('data-theme', 'dark');
    window.localStorage.setItem('theme', 'dark');
    document.getElementById("toggle-theme").classList.remove("moon");
    document.getElementById("toggle-theme").innerHTML = "☀️";
  } else {
    document.documentElement.setAttribute('data-theme', 'light');
    window.localStorage.setItem('theme', 'light');
    document.getElementById("toggle-theme").classList.add("moon");
    document.getElementById("toggle-theme").innerHTML = "";
  }
  // function when button is pressed
  function switchMode() {
  let currentMode = document.documentElement.getAttribute('data-theme');
  if (currentMode === "dark") {
    document.documentElement.setAttribute('data-theme', 'light');
    window.localStorage.setItem('theme', 'light');
    document.getElementById("toggle-theme").classList.add("moon");
    document.getElementById("toggle-theme").innerHTML = "";
  } else {
    document.documentElement.setAttribute('data-theme', 'dark');
    window.localStorage.setItem('theme', 'dark');
    document.getElementById("toggle-theme").classList.remove("moon");
    document.getElementById("toggle-theme").innerHTML = "☀️";
  }
 }
</script>
